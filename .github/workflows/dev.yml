name: Deploy the React app on AWS S3
on:
  push:
    branches: ['dev']

permissions:
  id-token: write
  contents: read

jobs:
  deploy-website:
    name: Run cloudformation to deploy s3 and cloudfront configuration
    uses: ./.github/workflows/main.yml
    with:
      environment: development

    secrets:
      AWS_GITHUB_ROLE: ${{ secrets.AWS_GITHUB_ROLE }}